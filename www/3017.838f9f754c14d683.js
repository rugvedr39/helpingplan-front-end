"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3017],{3017:(R,_,u)=>{u.r(_),u.d(_,{SignupPageModule:()=>O});var b=u(177),t=u(4341),l=u(1075),f=u(8986),n=u(4438),F=u(8793);function P(e,r){1&e&&(n.j41(0,"ion-text",17)(1,"small"),n.EFF(2,"Name is required."),n.k0s()())}function C(e,r){1&e&&(n.j41(0,"ion-text",17)(1,"small"),n.EFF(2,"Email is required and must be a valid email address."),n.k0s()())}function k(e,r){1&e&&(n.j41(0,"ion-text",17)(1,"small"),n.EFF(2,"Password is required."),n.k0s()())}function M(e,r){1&e&&(n.j41(0,"ion-text",17)(1,"small"),n.EFF(2,"Mobile number is required."),n.k0s()())}function S(e,r){1&e&&(n.j41(0,"ion-text",17)(1,"small"),n.EFF(2,"UPI number is required."),n.k0s()())}function v(e,r){1&e&&(n.j41(0,"ion-text",17)(1,"small"),n.EFF(2,"Referral code is required."),n.k0s()())}function h(e,r){if(1&e&&(n.j41(0,"ion-text",18)(1,"div",19),n.EFF(2),n.k0s()()),2&e){const s=n.XpG();n.R7$(2),n.SpI(" ",s.referralData," ")}}const x=[{path:"",component:(()=>{var e;class r{constructor(i,o){this.userDataService=i,this.route=o,this.signupForm=new t.gE({name:new t.MJ("",t.k0.required),email:new t.MJ("",[t.k0.required,t.k0.email]),password:new t.MJ("",t.k0.required),mobile_number:new t.MJ("",t.k0.required),bank_details:new t.gE({bank_name:new t.MJ(""),account_number:new t.MJ(""),ifsc_code:new t.MJ("")}),upi_number:new t.MJ("",t.k0.required),referral_code:new t.MJ("",t.k0.required)}),this.populateReferralCodeFromURL()}populateReferralCodeFromURL(){this.route.queryParams.subscribe(i=>{i.token&&(this.signupForm.get("referral_code").setValue(i.token),this.validateReferral())})}validateReferral(){let i=this.signupForm.get("referral_code");return console.log(i.value),new Promise(o=>{null!=i&&i.value?this.userDataService.getUserByReferralCode(i.value).subscribe(a=>{console.log(a),this.referralData=a.name,o(null)},a=>{alert("invalid Referral"),this.referralData=void 0}):o({required:!0})})}signup(){this.signupForm.valid?this.userDataService.createUser(this.signupForm.value).subscribe({next:i=>{console.log(i),alert(`Your UserId is ${i.username}`)},error:i=>{409===i.status?alert(`Signup failed: ${i.error.message}`):alert("Signup failed. Please try again later.")}}):alert("Please fill in all required fields correctly.")}}return(e=r).\u0275fac=function(i){return new(i||e)(n.rXU(F.J),n.rXU(f.nX))},e.\u0275cmp=n.VBU({type:e,selectors:[["app-signup"]],decls:53,vars:9,consts:[["translucent","true"],[1,"ion-padding"],[1,"signup-form","mb-5"],[3,"ngSubmit","formGroup"],["position","floating"],["formControlName","name","required",""],["color","danger",4,"ngIf"],["formControlName","email","type","email","required",""],["formControlName","password","type","password","required",""],["formControlName","mobile_number","type","tel","required",""],["formControlName","bank_details.bank_name"],["formControlName","bank_details.account_number"],["formControlName","bank_details.ifsc_code"],["formControlName","upi_number","required",""],["formControlName","referral_code","required","",3,"ionChange"],["color","success",4,"ngIf"],["expand","block",1,"signup-btn","mb-5",3,"click","disabled"],["color","danger"],["color","success"],["role","alert",1,"alert","alert-success","text-capitalize"]],template:function(i,o){if(1&i&&(n.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),n.EFF(3,"Signup"),n.k0s()()(),n.j41(4,"ion-content",1)(5,"div",2)(6,"form",3),n.bIt("ngSubmit",function(){return o.signup()}),n.j41(7,"ion-list")(8,"ion-item")(9,"ion-label",4),n.EFF(10,"Name"),n.k0s(),n.nrm(11,"ion-input",5),n.k0s(),n.DNE(12,P,3,0,"ion-text",6),n.j41(13,"ion-item")(14,"ion-label",4),n.EFF(15,"Email"),n.k0s(),n.nrm(16,"ion-input",7),n.k0s(),n.DNE(17,C,3,0,"ion-text",6),n.j41(18,"ion-item")(19,"ion-label",4),n.EFF(20,"Password"),n.k0s(),n.nrm(21,"ion-input",8),n.k0s(),n.DNE(22,k,3,0,"ion-text",6),n.j41(23,"ion-item")(24,"ion-label",4),n.EFF(25,"Mobile Number"),n.k0s(),n.nrm(26,"ion-input",9),n.k0s(),n.DNE(27,M,3,0,"ion-text",6),n.j41(28,"ion-item")(29,"ion-label",4),n.EFF(30,"Bank Name"),n.k0s(),n.nrm(31,"ion-input",10),n.k0s(),n.j41(32,"ion-item")(33,"ion-label",4),n.EFF(34,"Account Number"),n.k0s(),n.nrm(35,"ion-input",11),n.k0s(),n.j41(36,"ion-item")(37,"ion-label",4),n.EFF(38,"IFSC Code"),n.k0s(),n.nrm(39,"ion-input",12),n.k0s(),n.j41(40,"ion-item")(41,"ion-label",4),n.EFF(42,"UPI Number"),n.k0s(),n.nrm(43,"ion-input",13),n.k0s(),n.DNE(44,S,3,0,"ion-text",6),n.j41(45,"ion-item")(46,"ion-label",4),n.EFF(47,"Referral Code"),n.k0s(),n.j41(48,"ion-input",14),n.bIt("ionChange",function(){return o.validateReferral()}),n.k0s()(),n.DNE(49,v,3,0,"ion-text",6)(50,h,3,1,"ion-text",15),n.j41(51,"ion-button",16),n.bIt("click",function(){return o.signup()}),n.EFF(52," Signup "),n.k0s()()()()()),2&i){let a,p,c,d,g,m;n.R7$(6),n.Y8G("formGroup",o.signupForm),n.R7$(6),n.Y8G("ngIf",(null==(a=o.signupForm.get("name"))?null:a.touched)&&(null==(a=o.signupForm.get("name"))?null:a.invalid)),n.R7$(5),n.Y8G("ngIf",(null==(p=o.signupForm.get("email"))?null:p.touched)&&(null==(p=o.signupForm.get("email"))?null:p.errors)),n.R7$(5),n.Y8G("ngIf",(null==(c=o.signupForm.get("password"))?null:c.touched)&&(null==(c=o.signupForm.get("password"))?null:c.invalid)),n.R7$(5),n.Y8G("ngIf",(null==(d=o.signupForm.get("mobile_number"))?null:d.touched)&&(null==(d=o.signupForm.get("mobile_number"))?null:d.invalid)),n.R7$(17),n.Y8G("ngIf",(null==(g=o.signupForm.get("upi_number"))?null:g.touched)&&(null==(g=o.signupForm.get("upi_number"))||null==g.errors?null:g.errors.required)),n.R7$(5),n.Y8G("ngIf",(null==(m=o.signupForm.get("referral_code"))?null:m.touched)&&(null==(m=o.signupForm.get("referral_code"))||null==m.errors?null:m.errors.required)),n.R7$(),n.Y8G("ngIf",void 0!==o.referralData),n.R7$(),n.Y8G("disabled",!o.signupForm.valid)}},dependencies:[b.bT,t.qT,t.BC,t.cb,t.YS,l.Jm,l.W9,l.eU,l.$w,l.uz,l.he,l.nf,l.IO,l.BC,l.ai,l.Gw,t.j4,t.JD],styles:[".signup-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}.signup-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{box-shadow:0 4px 20px #0000000d;border-radius:8px}.signup-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{background-color:var(--ion-color-primary);color:#fff;text-align:center}.signup-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px}.signup-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: #fff;--padding-start: 0;--padding-end: 0;--inner-padding-start: 8px;--inner-padding-end: 8px;--border-radius: 8px;margin-top:10px}.signup-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--padding-start: 5px;--padding-end: 5px}.signup-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{margin-top:5px;margin-left:10px}.signup-content[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:20px;--background: var(--ion-color-primary);--background-activated: var(--ion-color-primary-tint);--background-hover: var(--ion-color-primary-shade)}"]}),r})()}];let E=(()=>{var e;class r{}return(e=r).\u0275fac=function(i){return new(i||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[f.iI.forChild(x),f.iI]}),r})(),O=(()=>{var e;class r{}return(e=r).\u0275fac=function(i){return new(i||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[b.MD,t.YN,l.bv,E,t.X1]}),r})()}}]);