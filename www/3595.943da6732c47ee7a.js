"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3595],{3595:($,d,s)=>{s.r(d),s.d(d,{ActivePageModule:()=>T});var u=s(177),m=s(4341),i=s(1075),p=s(8986),g=s(467),t=s(4438),F=s(5443);let v=(()=>{var e;class r{constructor(o,a){this.modalController=o,this.TransactionService=a}dismiss(){this.modalController.dismiss({dismissed:!0})}submitUTR(){this.TransactionService.postTransaction({transactionId:this.transactionId,utrNumber:this.utrNumber}).subscribe(o=>{console.log(o)}),this.dismiss()}ngOnInit(){}}return(e=r).\u0275fac=function(o){return new(o||e)(t.rXU(i.W3),t.rXU(F.k))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-utr-modal"]],inputs:{transactionId:"transactionId"},decls:14,vars:1,consts:[["slot","end"],[3,"click"],["position","floating"],["type","text",3,"ngModelChange","ngModel"],["expand","block",3,"click"]],template:function(o,a){1&o&&(t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t.EFF(3,"Enter UTR Number"),t.k0s(),t.j41(4,"ion-buttons",0)(5,"ion-button",1),t.bIt("click",function(){return a.dismiss()}),t.EFF(6,"Close"),t.k0s()()()(),t.j41(7,"ion-content")(8,"ion-item")(9,"ion-label",2),t.EFF(10,"UTR Number"),t.k0s(),t.j41(11,"ion-input",3),t.mxI("ngModelChange",function(l){return t.DH7(a.utrNumber,l)||(a.utrNumber=l),l}),t.k0s()(),t.j41(12,"ion-button",4),t.bIt("click",function(){return a.submitUTR()}),t.EFF(13,"Confirm"),t.k0s()()),2&o&&(t.R7$(11),t.R50("ngModel",a.utrNumber))},dependencies:[m.BC,m.vS,i.Jm,i.QW,i.W9,i.eU,i.$w,i.uz,i.he,i.BC,i.ai,i.Gw]}),r})();var f=s(4914),b=s(8793);function h(e,r){1&e&&(t.j41(0,"ion-title"),t.EFF(1,"Active Account"),t.k0s())}function R(e,r){1&e&&(t.j41(0,"ion-title"),t.EFF(1,"Upgrade Account"),t.k0s())}function k(e,r){1&e&&(t.j41(0,"ion-title",10),t.EFF(1,"Active Account"),t.k0s())}function _(e,r){1&e&&(t.j41(0,"ion-title",10),t.EFF(1,"Upgrade Account"),t.k0s())}function j(e,r){if(1&e){const n=t.RV6();t.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),t.EFF(3,"Payment Initiated"),t.k0s()(),t.j41(4,"ion-card-content")(5,"ion-list")(6,"ion-item")(7,"ion-label"),t.EFF(8),t.k0s()(),t.j41(9,"ion-item")(10,"ion-label"),t.EFF(11),t.k0s()(),t.j41(12,"ion-item")(13,"ion-label"),t.EFF(14),t.k0s()(),t.j41(15,"ion-item")(16,"ion-label"),t.EFF(17),t.k0s()(),t.j41(18,"ion-item")(19,"ion-label"),t.EFF(20),t.k0s()(),t.j41(21,"ion-item")(22,"ion-label"),t.EFF(23),t.k0s()(),t.j41(24,"ion-item")(25,"ion-label"),t.EFF(26),t.k0s()()(),t.j41(27,"ion-button",11),t.bIt("click",function(){t.eBV(n);const a=t.XpG().$implicit,c=t.XpG();return t.Njj(c.completePayment(a.id))}),t.EFF(28,"Mark Payment as Done"),t.k0s()()()}if(2&e){const n=t.XpG().$implicit;t.R7$(8),t.SpI(" Pay To: ",n.Receiver.name," "),t.R7$(3),t.SpI(" Mobile Number: ",n.Receiver.mobile_number," "),t.R7$(3),t.SpI(" Amount: \u20b9",n.amount," "),t.R7$(3),t.SpI(" Date: ",n.date," "),t.R7$(3),t.SpI(" Time: ",n.time," "),t.R7$(3),t.SpI(" UPI ID: ",n.upiId," "),t.R7$(3),t.SpI(" UTR Number: ",n.utrNumber||"Not available"," ")}}function E(e,r){if(1&e&&(t.qex(0),t.DNE(1,j,29,7,"ion-card",1),t.bVm()),2&e){const n=r.$implicit;t.R7$(),t.Y8G("ngIf","initiate"===n.status)}}function I(e,r){if(1&e&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td"),t.EFF(12),t.k0s()()),2&e){const n=r.$implicit;t.R7$(2),t.JRh(n.Receiver.name),t.R7$(2),t.JRh(n.Receiver.mobile_number),t.R7$(2),t.JRh(n.upiId),t.R7$(2),t.SpI("\u20b9",n.amount,""),t.R7$(),t.HbH("completed"===n.status?"text-success":"text-warning"),t.R7$(),t.SpI(" ",n.status," "),t.R7$(2),t.JRh(n.date)}}const P=[{path:"",component:(()=>{var e;class r{constructor(o,a,c){this.TransactionService=o,this.modalController=a,this.userDataService=c,this.user=JSON.parse(localStorage.getItem("user")||"{}"),this.TransactionService.getTransactions(this.user.id).subscribe(l=>{this.transactions=l,console.log(l)})}ngOnInit(){}completePayment(o){var a=this;return(0,g.A)(function*(){return yield(yield a.modalController.create({component:v,componentProps:{transactionId:o}})).present()})()}openUserDetails(o){var c,a=this;this.userDataService.getUser(o).subscribe({next:(c=(0,g.A)(function*(l){return yield(yield a.modalController.create({component:f.Y,componentProps:{userData:l}})).present()}),function(U){return c.apply(this,arguments)}),error:c=>{console.error("Error fetching user data:",c)}})}}return(e=r).\u0275fac=function(o){return new(o||e)(t.rXU(F.k),t.rXU(i.W3),t.rXU(b.J))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-active"]],decls:30,vars:8,consts:[[3,"translucent"],[4,"ngIf"],[3,"fullscreen"],["collapse","condense"],["size","large",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"card"],[1,"card-body","p-2"],[1,"table-responsive"],[1,"table"],["size","large"],["expand","full",3,"click"]],template:function(o,a){1&o&&(t.j41(0,"ion-header",0)(1,"ion-toolbar"),t.DNE(2,h,2,0,"ion-title",1)(3,R,2,0,"ion-title",1),t.k0s()(),t.j41(4,"ion-content",2)(5,"ion-header",3)(6,"ion-toolbar"),t.DNE(7,k,2,0,"ion-title",4)(8,_,2,0,"ion-title",4),t.k0s()(),t.DNE(9,E,2,1,"ng-container",5),t.j41(10,"div",6)(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),t.EFF(17,"Payto"),t.k0s(),t.j41(18,"th"),t.EFF(19,"Phone"),t.k0s(),t.j41(20,"th"),t.EFF(21,"UPI"),t.k0s(),t.j41(22,"th"),t.EFF(23,"Amount"),t.k0s(),t.j41(24,"th"),t.EFF(25,"Status"),t.k0s(),t.j41(26,"th"),t.EFF(27,"Date"),t.k0s()()(),t.j41(28,"tbody"),t.DNE(29,I,13,8,"tr",5),t.k0s()()()()()()),2&o&&(t.Y8G("translucent",!0),t.R7$(2),t.Y8G("ngIf",0===a.user.level),t.R7$(),t.Y8G("ngIf",0!==a.user.level),t.R7$(),t.Y8G("fullscreen",!0),t.R7$(3),t.Y8G("ngIf",0===a.user.level),t.R7$(),t.Y8G("ngIf",0!==a.user.level),t.R7$(),t.Y8G("ngForOf",a.transactions),t.R7$(20),t.Y8G("ngForOf",a.transactions))},dependencies:[u.Sq,u.bT,i.Jm,i.b_,i.I9,i.ME,i.tN,i.W9,i.eU,i.uz,i.he,i.nf,i.BC,i.ai]}),r})()}];let A=(()=>{var e;class r{}return(e=r).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[p.iI.forChild(P),p.iI]}),r})(),T=(()=>{var e;class r{}return(e=r).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[u.MD,m.YN,i.bv,A]}),r})()}}]);