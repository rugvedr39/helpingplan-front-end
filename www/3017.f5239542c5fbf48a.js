"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3017],{3017:(w,f,u)=>{u.r(f),u.d(f,{SignupPageModule:()=>j});var b=u(177),i=u(4341),l=u(1075),_=u(8986),e=u(4438),F=u(8793);function k(n,t){1&n&&(e.j41(0,"ion-text",17)(1,"small"),e.EFF(2,"Name is required."),e.k0s()())}function P(n,t){1&n&&(e.j41(0,"ion-text",17)(1,"small"),e.EFF(2,"Email is required and must be a valid email address."),e.k0s()())}function S(n,t){1&n&&(e.j41(0,"ion-text",17)(1,"small"),e.EFF(2,"Password is required."),e.k0s()())}function C(n,t){1&n&&(e.j41(0,"ion-text",17)(1,"small"),e.EFF(2,"Mobile number is required."),e.k0s()())}function M(n,t){1&n&&(e.j41(0,"ion-text",17)(1,"small"),e.EFF(2,"UPI number is required."),e.k0s()())}function h(n,t){1&n&&(e.j41(0,"ion-text",17)(1,"small"),e.EFF(2,"Referral code is required."),e.k0s()())}function x(n,t){if(1&n&&(e.j41(0,"ion-text",18)(1,"small"),e.EFF(2),e.k0s()()),2&n){const s=e.XpG();e.R7$(2),e.JRh(s.referralData)}}const v=[{path:"",component:(()=>{var n;class t{constructor(r){this.userDataService=r,this.signupForm=new i.gE({name:new i.MJ("",i.k0.required),email:new i.MJ("",[i.k0.required,i.k0.email]),password:new i.MJ("",i.k0.required),mobile_number:new i.MJ("",i.k0.required),bank_details:new i.gE({bank_name:new i.MJ(""),account_number:new i.MJ(""),ifsc_code:new i.MJ("")}),upi_number:new i.MJ("",i.k0.required),referral_code:new i.MJ("",i.k0.required)})}validateReferral(){let r=this.signupForm.get("referral_code");return new Promise(o=>{null!=r&&r.value?this.userDataService.getUserByReferralCode(r.value).subscribe(a=>{this.referralData=a.name,o(null)},a=>{alert("invalid Referral"),this.referralData=void 0}):o({required:!0})})}signup(){this.signupForm.valid?this.userDataService.createUser(this.signupForm.value).subscribe({next:r=>{console.log(r),alert(`Your UserId is ${r.username}`)},error:r=>{409===r.status?alert(`Signup failed: ${r.error.message}`):alert("Signup failed. Please try again later.")}}):alert("Please fill in all required fields correctly.")}}return(n=t).\u0275fac=function(r){return new(r||n)(e.rXU(F.J))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-signup"]],decls:53,vars:9,consts:[["translucent","true"],[1,"ion-padding"],[1,"signup-form","mb-5"],[3,"ngSubmit","formGroup"],["position","floating"],["formControlName","name","required",""],["color","danger",4,"ngIf"],["formControlName","email","type","email","required",""],["formControlName","password","type","password","required",""],["formControlName","mobile_number","type","tel","required",""],["formControlName","bank_details.bank_name"],["formControlName","bank_details.account_number"],["formControlName","bank_details.ifsc_code"],["formControlName","upi_number","required",""],["formControlName","referral_code","required","",3,"ionChange"],["color","success",4,"ngIf"],["expand","block",1,"signup-btn","mb-5",3,"click","disabled"],["color","danger"],["color","success"]],template:function(r,o){if(1&r&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Signup"),e.k0s()()(),e.j41(4,"ion-content",1)(5,"div",2)(6,"form",3),e.bIt("ngSubmit",function(){return o.signup()}),e.j41(7,"ion-list")(8,"ion-item")(9,"ion-label",4),e.EFF(10,"Name"),e.k0s(),e.nrm(11,"ion-input",5),e.k0s(),e.DNE(12,k,3,0,"ion-text",6),e.j41(13,"ion-item")(14,"ion-label",4),e.EFF(15,"Email"),e.k0s(),e.nrm(16,"ion-input",7),e.k0s(),e.DNE(17,P,3,0,"ion-text",6),e.j41(18,"ion-item")(19,"ion-label",4),e.EFF(20,"Password"),e.k0s(),e.nrm(21,"ion-input",8),e.k0s(),e.DNE(22,S,3,0,"ion-text",6),e.j41(23,"ion-item")(24,"ion-label",4),e.EFF(25,"Mobile Number"),e.k0s(),e.nrm(26,"ion-input",9),e.k0s(),e.DNE(27,C,3,0,"ion-text",6),e.j41(28,"ion-item")(29,"ion-label",4),e.EFF(30,"Bank Name"),e.k0s(),e.nrm(31,"ion-input",10),e.k0s(),e.j41(32,"ion-item")(33,"ion-label",4),e.EFF(34,"Account Number"),e.k0s(),e.nrm(35,"ion-input",11),e.k0s(),e.j41(36,"ion-item")(37,"ion-label",4),e.EFF(38,"IFSC Code"),e.k0s(),e.nrm(39,"ion-input",12),e.k0s(),e.j41(40,"ion-item")(41,"ion-label",4),e.EFF(42,"UPI Number"),e.k0s(),e.nrm(43,"ion-input",13),e.k0s(),e.DNE(44,M,3,0,"ion-text",6),e.j41(45,"ion-item")(46,"ion-label",4),e.EFF(47,"Referral Code"),e.k0s(),e.j41(48,"ion-input",14),e.bIt("ionChange",function(){return o.validateReferral()}),e.k0s()(),e.DNE(49,h,3,0,"ion-text",6)(50,x,3,1,"ion-text",15),e.j41(51,"ion-button",16),e.bIt("click",function(){return o.signup()}),e.EFF(52," Signup "),e.k0s()()()()()),2&r){let a,p,d,c,m,g;e.R7$(6),e.Y8G("formGroup",o.signupForm),e.R7$(6),e.Y8G("ngIf",(null==(a=o.signupForm.get("name"))?null:a.touched)&&(null==(a=o.signupForm.get("name"))?null:a.invalid)),e.R7$(5),e.Y8G("ngIf",(null==(p=o.signupForm.get("email"))?null:p.touched)&&(null==(p=o.signupForm.get("email"))?null:p.errors)),e.R7$(5),e.Y8G("ngIf",(null==(d=o.signupForm.get("password"))?null:d.touched)&&(null==(d=o.signupForm.get("password"))?null:d.invalid)),e.R7$(5),e.Y8G("ngIf",(null==(c=o.signupForm.get("mobile_number"))?null:c.touched)&&(null==(c=o.signupForm.get("mobile_number"))?null:c.invalid)),e.R7$(17),e.Y8G("ngIf",(null==(m=o.signupForm.get("upi_number"))?null:m.touched)&&(null==(m=o.signupForm.get("upi_number"))||null==m.errors?null:m.errors.required)),e.R7$(5),e.Y8G("ngIf",(null==(g=o.signupForm.get("referral_code"))?null:g.touched)&&(null==(g=o.signupForm.get("referral_code"))||null==g.errors?null:g.errors.required)),e.R7$(),e.Y8G("ngIf",void 0!==o.referralData),e.R7$(),e.Y8G("disabled",!o.signupForm.valid)}},dependencies:[b.bT,i.qT,i.BC,i.cb,i.YS,l.Jm,l.W9,l.eU,l.$w,l.uz,l.he,l.nf,l.IO,l.BC,l.ai,l.Gw,i.j4,i.JD],styles:[".signup-form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}.signup-form[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;padding:20px;box-shadow:0 2px 4px #0000001a}.signup-form[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent;--border-color: var(--ion-color-light-shade);margin-bottom:20px}.signup-form[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{margin-top:-15px;margin-bottom:20px}.signup-form[_ngcontent-%COMP%]   .signup-btn[_ngcontent-%COMP%]{margin-top:20px;--background: var(--ion-color-primary);--border-radius: 10px;--box-shadow: 0 2px 4px rgba(0, 0, 0, .1);margin-bottm:100px}form[_ngcontent-%COMP%]{margin-bottom:50px!important}"]}),t})()}];let E=(()=>{var n;class t{}return(n=t).\u0275fac=function(r){return new(r||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[_.iI.forChild(v),_.iI]}),t})(),j=(()=>{var n;class t{}return(n=t).\u0275fac=function(r){return new(r||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[b.MD,i.YN,l.bv,E,i.X1]}),t})()}}]);