"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3595],{3595:(N,v,c)=>{c.r(v),c.d(v,{ActivePageModule:()=>y});var u=c(177),m=c(4341),a=c(1075),d=c(8986),p=c(467),t=c(4438),F=c(5443);let _=(()=>{var e;class r{constructor(i,n){this.modalController=i,this.TransactionService=n}dismiss(){this.modalController.dismiss({dismissed:!0})}submitUTR(){this.TransactionService.postTransaction({transactionId:this.transactionId,utrNumber:this.utrNumber}).subscribe(i=>{}),this.dismiss()}ngOnInit(){}}return(e=r).\u0275fac=function(i){return new(i||e)(t.rXU(a.W3),t.rXU(F.k))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-utr-modal"]],inputs:{transactionId:"transactionId"},decls:14,vars:1,consts:[["slot","end"],[3,"click"],["position","floating"],["type","text",3,"ngModelChange","ngModel"],["expand","block",3,"click"]],template:function(i,n){1&i&&(t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t.EFF(3,"Enter UTR Number"),t.k0s(),t.j41(4,"ion-buttons",0)(5,"ion-button",1),t.bIt("click",function(){return n.dismiss()}),t.EFF(6,"Close"),t.k0s()()()(),t.j41(7,"ion-content")(8,"ion-item")(9,"ion-label",2),t.EFF(10,"UTR Number"),t.k0s(),t.j41(11,"ion-input",3),t.mxI("ngModelChange",function(l){return t.DH7(n.utrNumber,l)||(n.utrNumber=l),l}),t.k0s()(),t.j41(12,"ion-button",4),t.bIt("click",function(){return n.submitUTR()}),t.EFF(13,"Confirm"),t.k0s()()),2&i&&(t.R7$(11),t.R50("ngModel",n.utrNumber))},dependencies:[m.BC,m.vS,a.Jm,a.QW,a.W9,a.eU,a.$w,a.uz,a.he,a.BC,a.ai,a.Gw]}),r})();var b=c(4914),h=c(8793);const I=(e,r)=>({"bg-success":e,"bg-warning":r});function k(e,r){1&e&&(t.j41(0,"ion-title"),t.EFF(1,"Active Account"),t.k0s())}function R(e,r){1&e&&(t.j41(0,"ion-title"),t.EFF(1,"Upgrade Account"),t.k0s())}function j(e,r){1&e&&(t.j41(0,"ion-title",11),t.EFF(1,"Active Account"),t.k0s())}function E(e,r){1&e&&(t.j41(0,"ion-title",11),t.EFF(1,"Upgrade Account"),t.k0s())}function P(e,r){if(1&e){const o=t.RV6();t.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),t.EFF(3,"Payment Initiated"),t.k0s()(),t.j41(4,"ion-card-content")(5,"ion-list")(6,"ion-item")(7,"ion-label"),t.EFF(8),t.k0s()(),t.j41(9,"ion-item")(10,"ion-label"),t.EFF(11),t.k0s()(),t.j41(12,"ion-item")(13,"ion-label"),t.EFF(14),t.k0s()(),t.j41(15,"ion-item")(16,"ion-label"),t.EFF(17),t.k0s()(),t.j41(18,"ion-item")(19,"ion-label"),t.EFF(20),t.k0s()(),t.j41(21,"ion-item")(22,"ion-label"),t.EFF(23),t.k0s(),t.j41(24,"ion-button",12),t.bIt("click",function(){t.eBV(o);const n=t.XpG().$implicit,s=t.XpG();return t.Njj(s.copyUPIId(n.upiId))}),t.nrm(25,"ion-icon",13),t.k0s()(),t.j41(26,"ion-item")(27,"ion-label"),t.EFF(28),t.k0s()()(),t.j41(29,"ion-button",14),t.bIt("click",function(){t.eBV(o);const n=t.XpG().$implicit,s=t.XpG();return t.Njj(s.completePayment(n.id))}),t.EFF(30,"Mark Payment as Done"),t.k0s()()()}if(2&e){const o=t.XpG().$implicit;t.R7$(8),t.SpI(" Pay To: ",o.Receiver.name," "),t.R7$(3),t.SpI(" Mobile Number: ",o.Receiver.mobile_number," "),t.R7$(3),t.SpI(" Amount: \u20b9",o.amount," "),t.R7$(3),t.SpI(" Date: ",o.date," "),t.R7$(3),t.SpI(" Time: ",o.time," "),t.R7$(3),t.SpI(" UPI ID: ",o.upiId," "),t.R7$(5),t.SpI(" UTR Number: ",o.utrNumber||"Not available"," ")}}function A(e,r){if(1&e&&(t.qex(0),t.DNE(1,P,31,7,"ion-card",1),t.bVm()),2&e){const o=r.$implicit;t.R7$(),t.Y8G("ngIf","initiate"===o.status)}}function C(e,r){if(1&e&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td",15),t.EFF(10),t.k0s(),t.j41(11,"td"),t.EFF(12),t.k0s()()),2&e){const o=r.$implicit;t.R7$(2),t.JRh(o.Receiver.name),t.R7$(2),t.JRh(o.Receiver.mobile_number),t.R7$(2),t.JRh(o.upiId),t.R7$(2),t.SpI("\u20b9",o.amount,""),t.R7$(),t.Y8G("ngClass",t.l_i(7,I,"Completed"===o.status,"Completed"!==o.status)),t.R7$(),t.SpI(" ",o.status," "),t.R7$(2),t.JRh(o.date)}}const T=[{path:"",component:(()=>{var e;class r{constructor(i,n,s,l,g){this.TransactionService=i,this.modalController=n,this.userDataService=s,this.toastController=l,this.router=g,this.user=JSON.parse(localStorage.getItem("user")||"{}"),this.TransactionService.getTransactions(this.user.id).subscribe($=>{this.transactions=$;const M=this.transactions.slice(0,3).every(S=>"completed"===S.status),f=JSON.parse(localStorage.getItem("user")||"{}");M?(f.status="Active",localStorage.setItem("user",JSON.stringify(f))):localStorage.setItem("active","false")})}ngOnInit(){}completePayment(i){var n=this;return(0,p.A)(function*(){return yield(yield n.modalController.create({component:_,componentProps:{transactionId:i}})).present()})()}openUserDetails(i){var s,n=this;this.userDataService.getUser(i).subscribe({next:(s=(0,p.A)(function*(l){return yield(yield n.modalController.create({component:b.Y,componentProps:{userData:l}})).present()}),function(g){return s.apply(this,arguments)}),error:s=>{console.error("Error fetching user data:",s)}})}copyUPIId(i){const n=document.createElement("textarea");n.value=i,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),this.presentToast("UPI ID copied to clipboard")}presentToast(i){var n=this;return(0,p.A)(function*(){(yield n.toastController.create({message:i,duration:2e3,position:"bottom"})).present()})()}logout(){localStorage.clear(),this.router.navigateByUrl("/login")}}return(e=r).\u0275fac=function(i){return new(i||e)(t.rXU(F.k),t.rXU(a.W3),t.rXU(h.J),t.rXU(a.K_),t.rXU(d.Ix))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-active"]],decls:32,vars:8,consts:[[3,"translucent"],[4,"ngIf"],[3,"fullscreen"],["collapse","condense"],["size","large",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"card"],[1,"card-body","p-2"],[1,"table-responsive"],[1,"table"],[1,"btn","btn-danger","form-control",3,"click"],["size","large"],["fill","clear","slot","end",3,"click"],["name","copy-outline"],["expand","full",3,"click"],[3,"ngClass"]],template:function(i,n){1&i&&(t.j41(0,"ion-header",0)(1,"ion-toolbar"),t.DNE(2,k,2,0,"ion-title",1)(3,R,2,0,"ion-title",1),t.k0s()(),t.j41(4,"ion-content",2)(5,"ion-header",3)(6,"ion-toolbar"),t.DNE(7,j,2,0,"ion-title",4)(8,E,2,0,"ion-title",4),t.k0s()(),t.DNE(9,A,2,1,"ng-container",5),t.j41(10,"div",6)(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),t.EFF(17,"Payto"),t.k0s(),t.j41(18,"th"),t.EFF(19,"Phone"),t.k0s(),t.j41(20,"th"),t.EFF(21,"UPI"),t.k0s(),t.j41(22,"th"),t.EFF(23,"Amount"),t.k0s(),t.j41(24,"th"),t.EFF(25,"Status"),t.k0s(),t.j41(26,"th"),t.EFF(27,"Date"),t.k0s()()(),t.j41(28,"tbody"),t.DNE(29,C,13,10,"tr",5),t.k0s()()()()(),t.j41(30,"button",10),t.bIt("click",function(){return n.logout()}),t.EFF(31," Logout "),t.k0s()()),2&i&&(t.Y8G("translucent",!0),t.R7$(2),t.Y8G("ngIf",0===n.user.level),t.R7$(),t.Y8G("ngIf",0!==n.user.level),t.R7$(),t.Y8G("fullscreen",!0),t.R7$(3),t.Y8G("ngIf",0===n.user.level),t.R7$(),t.Y8G("ngIf",0!==n.user.level),t.R7$(),t.Y8G("ngForOf",n.transactions),t.R7$(20),t.Y8G("ngForOf",n.transactions))},dependencies:[u.YU,u.Sq,u.bT,a.Jm,a.b_,a.I9,a.ME,a.tN,a.W9,a.eU,a.iq,a.uz,a.he,a.nf,a.BC,a.ai]}),r})()}];let U=(()=>{var e;class r{}return(e=r).\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[d.iI.forChild(T),d.iI]}),r})(),y=(()=>{var e;class r{}return(e=r).\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[u.MD,m.YN,a.bv,U]}),r})()}}]);